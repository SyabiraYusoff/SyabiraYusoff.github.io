<!DOCTYPE html>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style.css">
<head>

<title>Pipeline Run</title>
    <link rel="apple-touch-icon" sizes="57x57" href="./pictures/favicon_rhapsody.ico/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="./pictures/favicon_rhapsody.ico/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="./pictures/favicon_rhapsody.ico/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="./pictures/favicon_rhapsody.ico/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="./pictures/favicon_rhapsody.ico/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="./pictures/favicon_rhapsody.ico/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="./pictures/favicon_rhapsody.ico/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="./pictures/favicon_rhapsody.ico/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="./pictures/favicon_rhapsody.ico/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="./pictures/favicon_rhapsody.ico/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="./pictures/favicon_rhapsody.ico/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="./pictures/favicon_rhapsody.ico/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./pictures/favicon_rhapsody.ico/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="./pictures/favicon_rhapsody.ico/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">

        <style>

            /* container and image gallery */
        .btn-group .button {
            background-color: #FF6E00; 
            border: 3px double #060A3D;
            color: #060A3D;
            padding: 15px 18px;
            text-align: center;
            text-decoration: none;
            font-size: 12px;
            cursor: pointer;
            width: 200px;
            flex-direction: column;
            justify-content: flex-start;
        }
        
        .btn-group .button:not(:last-child) {
            border-bottom: none; /* Prevent double borders */
        }
        
        .btn-group .button:hover{
            background-color: #DAD7D6;
            color: #060A3D;
            font-weight: bold;
            border: 2px double #060A3D;
        }

        .scroll {
            padding: 15px 50px 15px 50px;
            background-color:#eeebea;
            border: #d1cece;
            overflow-x: hidden;
            overflow-y: auto;
            height: 720px;

        }
        
        img {
            max-width: 100%;
            max-height: auto;
            display: none;
            justify-content: center;
        }

        .image-container{
            display: grid;
            grid-template-columns: 1fr 4fr;
            
        }
        </style>
</head>
<body>
    <div class="header">
        <h1>BD Rhapsody&trade; Pipeline Run & Output Files</h1>
    </div>
<!-- top nagivation -->
    <div class="topnav">
        <a href="#" data-target="information" onclick="showSection('information', this)">Important Information</a>
        <a href="#" data-target="velsera" onclick="showSection('velsera', this)">Run on Velsera</a>
        <a href="#" data-target="local" onclick="showSection('local', this)">Run Locally</a>
        <a href="#" data-target="output" onclick="showSection('others', this)">Other Settings</a>
        <a href="index.html" style="float:right"><i class="fa fa-home"></i>HOME</a>
    </div>

    <!-- content-->
     <div class="row">
        <!-- Left Section -->
         <div class="leftcolumn">
            <!-- section-->
             <div id="information" class="section active">
                <p>This section will include the summary of the tabs 
                    also attached videos and flow when encounter error on the pipeline analysis. 
                </p>
             </div>
             <!-- section-->
             <div id="velsera" class="section">
                <h2>Input files needed based on assay combinations</h2>
                <div class="image-container"><div class="btn-group" >
                    <button class="button" onclick="changeImage('./pictures/SBsetup_WTA.png')">WTA</button>
                    <button class="button" onclick="changeImage('./pictures/SBsetup_WTA_AbSeq.png')">WTA+AbSeq</button>
                <button class="button"
onclick="changeImage('./pictures/SBsetup_WTA_AbSeq_SMK.png')">WTA+AbSeq+SMK</button>
                <button class="button"onclick="changeImage('./pictures/SBsetup_WTA_AbSeq_SMK_VDJ.png')">
                    WTA+AbSeq+SMK+VDJ</button> 
                <button class="button" onclick="changeImage('./pictures/SBsetup_targeted.png')">
                    Targeted</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_Targeted_AbSeq.png')">
                    Targeted+AbSeq</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_Targeted_AbSeq_SMK.png')">
                    Targeted+AbSeq+SMK</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_Targeted_AbSeq_SMK_VDJ.png')">
                    Targeted+AbSeq+SMK+VDJ</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_targeted_supplimental.png')">
                Targeted+customPanel</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_ATAC.png')">ATAC</button>
                <button class="button" onclick="changeImage('./pictures/SBsetup_WTA_ATAC.png')">WTA+ATAC</button>
        </div>
        <div class="scroll">
            <img id="defaultImage" src="./pictures/defaultImage_setupStep.png">
            </div>
            </div>


        </div>

        <!-- Local Setup section-->
         <div id="local" class="section">
            <h2>Input files needed based on assay combinations</h2>
                <div class="image-container"><div class="btn-group">
                    <button class="button" onclick="changeImage2('./pictures/localSetup_wta.png')">WTA</button>
                    <button class="button" onclick="changeImage2('./pictures/localSetup_wta_AbSeq.png')">WTA+AbSeq</button>
                <button class="button"
onclick="changeImage2('./pictures/localSetup_wta_abseq_smk.png')">WTA+AbSeq+SMK</button>
                <button class="button"onclick="changeImage2('./pictures/localSetup_wta_abseq_smk.png')">
                    WTA+AbSeq+SMK+VDJ</button> 
                <button class="button" onclick="changeImage2('./pictures/localSetup_targeted.png')">
                    Targeted</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_targeted_abseq.png')">
                    Targeted+AbSeq</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_targeted_abseq_smk.png')">
                    Targeted+AbSeq+SMK</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_targeted_abseq_smk_vdj.png')">
                    Targeted+AbSeq+SMK+VDJ</button>
                    <button class="button" onclick="changeImage2('./pictures/localSetup_targeted_custom.png')">
                        Targeted+customPanel</button>
                    <button class="button" onclick="changeImage2('./pictures/localSetup_vdj_wta.png')">VDJ+WTA</button>
                    <button class="button" onclick="changeImage2('./pictures/localSetup_vdj_targeted.png')">VDJ+Targeted</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_atac.png')">ATAC</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_atacWTA.png')">ATAC+WTA</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_atac_wta_smk.png')">ATAC+WTA+SMK</button>
                <button class="button" onclick="changeImage2('./pictures/localSetup_atac_SMK.png')">ATAC+SMK</button>
        </div>
        <div class="scroll">
            <img id="defaultImage2" src="./pictures/defaultImage_setupStep.png" width = "900">
            </div>
            </div>
            </div>
            
            <div id="others" class="section">
                <h2>Other Settings Option</h2>
                <p>Below are the additional settings available within the pipeline: </p>
                    
                    <ul>
                        <div class="card" style="background-color: #f1f1f1;">
                            <h3>Cell Calling Settings</h3>
                        <li><b>Putative Cell Calling Settings:</b>
                        <p>This setting is to specify the dataset to be used for putative cell calling: mRNA, AbSeq, ATAC, mRNA_and_ATAC. The default data will be determined the following way:</p>
                        <ul>
                            <li>If mRNA Reads and ATAC Reads exist &#9758; Cell_Calling_Data: mRNA_and_ATAC</li>
                            <li>If only ATAC Reads exist  &#9758; Cell_Calling_Data: ATAC</li>
                            <li>Otherwise &#9758; Cell_Calling_Data: mRNA</li>
                        </ul>
                        <p class="code">Cell_Calling_Data: mRNA</p></li>
                        <br>
    
                        <li> <b>Cell Calling Algorithm Settings: </b>
                        <p>Specify the bioproduct algorithm to be used for putative cell calling: Basic or Refined. 
                            To understand further the cell calling algorithm, please visit our documentation page stated below:</p>
                            <ul>
                                <li>Webpage: <a href="https://bd-rhapsody-bioinfo-docs.genomics.bd.com/steps/steps_putative_cells.html#basic-algorithm-for-putative-cell-identification-using-second-derivative-analysis" target="_blank">Basic Algorithm for mRNA, AbSeq and ATAC seq</a>. <br>
                                    For local runs, please use the code below.
                                <p class="code">Cell_Calling_Bioproduct_Algorithm: Basic</p></li>
                                <li>Webpage: <a href="https://bd-rhapsody-bioinfo-docs.genomics.bd.com/steps/steps_putative_cells.html#refined-algorithm-for-adjusting-putative-cell-counts-for-mrna-and-abseq" target="_blank">Refined algorithm for mRNA and AbSeq</a>. <br>
                                    For local runs, please use the code below.
                                    <p class="code">Cell_Calling_Bioproduct_Algorithm: Refined</p></li>
                                <li>Webpage: <a href="https://bd-rhapsody-bioinfo-docs.genomics.bd.com/steps/steps_putative_cells.html#refined-algorithm-for-adjusting-putative-cell-counts-for-atac-seq" target="_blank">Refined Algorithm for ATAC-Seq</a>. <br>
                                    For local runs, please use the code below.
                                    <p class="code">Cell_Calling_ATAC_Algorithm: Refined</p></li>
                            </ul></li>
                        
                            <li><b>Exact Cell Count Settings: </b>
                            <p>Set a specific number (>=1) of cells as putative, based on those with the highest error-corrected read count.
                                Please note that the exact cell count only gives the number of cells specified in the input settings. It does not mean all of your cells are of good cells, and might get filtered out during secondary analysis. 
                                For local runs, please use the code below.
                            <p class="code">Exact_Cell_Count: 10000</p></p>
                        </li>
    
                            <li><b>Expected Cell Count Settings:</b>
                                <p>Guide the basic putative cell calling algorithm by providing an estimate of the number of cells expected. Usually this can be the number of cells loaded into the Rhapsody cartridge.  
                                    If there are multiple <a target="_blank" href="https://bd-rhapsody-bioinfo-docs.genomics.bd.com/steps/steps_putative_cells.html#basic-algorithm-for-putative-cell-identification-using-second-derivative-analysis">inflection points</a> on the second derivative cumulative curve, this will ensure the one selected is near the expected.<br>
                                    For local runs, please use the code below.
                                <p class="code">Expected_Cell_Count: 20000</p></p>
                            </li>
                        </div>
    
                        <div class="card">
                        <h3>Intronic Reads Settings</h3>
                        <li><b>Exclude_Intronic_Reads: </b>
                        <p>By default, the flag is false, and reads aligned to exons and introns are considered and represented in molecule counts.
                            When the flag is set to true, intronic reads will be excluded.<br>
                            The value can be true or false.<br>
                            For local runs, please use the code below.
                            <p class="code">Exclude_Intronic_Reads: true</p>
                        </p></li>
                        </div>
    
                        <div class="card" style="background-color: #f1f1f1;">
                            <h3>ATAC Specific Setting</h3>
                            <li><b>Predefined ATAC Peaks Setting: </b>
                            <p>An optional BED file containing pre-established chromatin accessibility peak regions for generating the ATAC cell-by-peak matrix.<br>
                                For local runs, please use the code below. The path to the file should be specified in the input yml file.
                            <pre><p class="code">
                            Predefined_ATAC_Peaks:
                              class: File
                              location: "path/predefined_peaks.bed"
                            </p></pre></p></li>
                        </div>
    
                        <div class="card">
                            <h3>Additional Options:</h3>
                            <li><b>Run Name Setting: </b>
                            <p>Specify a run name to use as the output file base name. 
                                Use only letters, numbers, or hyphens. Do not use special characters or spaces.<br>
                                For local runs, please use the code below.
                            <p class="code">Run_Name: my-experiment</p></p></li>
    
                            <li><b>Generate Bam Setting:</b>
                            <p>Default setting is false.<br>
                                A Bam read alignment file contains reads from all the input libraries, but creating it can consume a lot of compute and disk resources. 
                                By setting this field to true, the Bam file will be created. <br>
                                This option is shared for both Bioproduct and ATAC libraries. For local runs, please use the code below.
                            <p class="code">Generate_Bam: true</p></p></li>
    
                            <li>Local Install only <b>Maximum_Threads Setting:</b>
                            <p>This is the step Set the maximum number of threads to use in the read processing steps of the pipeline:  QualCLAlign, AlignmentAnalysis, VDJ assembly. <br>
                                default: [use all cores of CPU]
                                <p class="code">Maximum_Threads: 16</p></p></li>
                            
                            
    
                    </ul>
    
                    <p></p>
                </div>

            </div>
        <!-- Right Section -->
         <div class="rightcolumn">
            <!-- section-->
            <div id="" class="section active">

            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId, element) {
// Hide all sections
var leftSections = document.querySelectorAll('.leftcolumn .section');
leftSections.forEach(function(section) {
    section.classList.remove('active');
});
var rightSections = document.querySelectorAll('.rightcolumn .section');
rightSections.forEach(function(section) {
    section.classList.remove('active');
});


// Show the selected section
var activeLeftSection = document.querySelector('.leftcolumn #' +  sectionId);
if (activeLeftSection){
    activeLeftSection.classList.add('active');
}
var activeRightSection = document.querySelector('.rightcolumn #' +  sectionId);
if (activeRightSection){
    activeRightSection.classList.add('active');
}

// Update tab styles
var tabs = document.querySelectorAll('.topnav a');
tabs.forEach(function(tab) {
    tab.classList.remove('active-tab');
});

element.classList.add('active-tab');
}

// Display the first section on page load
document.addEventListener('DOMContentLoaded', function() {
// Show the first section by default
showSection('information', document.querySelector('.topnav a'));
});

//button print image 
function changeImage(imageSrc) {
    var displayedImage = document.getElementById("defaultImage");
    displayedImage.src = imageSrc;
    displayedImage.style.display = 'block';
}

//button print image 
function changeImage2(imageSrc) {
    var displayedImage = document.getElementById("defaultImage2");
    displayedImage.src = imageSrc;
    displayedImage.style.display = 'block';
}
</script>
</body>