<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Reference Files</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style.css">
<head>
    <title>Pipeline Setup</title>
    <link rel="apple-touch-icon" sizes="57x57" href="./pictures/favicon_rhapsody.ico/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./pictures/favicon_rhapsody.ico/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./pictures/favicon_rhapsody.ico/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./pictures/favicon_rhapsody.ico/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./pictures/favicon_rhapsody.ico/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./pictures/favicon_rhapsody.ico/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./pictures/favicon_rhapsody.ico/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./pictures/favicon_rhapsody.ico/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./pictures/favicon_rhapsody.ico/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="./pictures/favicon_rhapsody.ico/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./pictures/favicon_rhapsody.ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./pictures/favicon_rhapsody.ico/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./pictures/favicon_rhapsody.ico/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./pictures/favicon_rhapsody.ico/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff"></head>

</head>
<body>
    <div class="header">
        <h1>BD Rhapsody&trade; Pipeline Setup</h1>
      </div>

      <div class="topnav">
        <a href="#" data-target="refCheckbox" onclick="showSection('refCheckbox', this)">What Reference Files I need?</a>
        <a href="#" data-target="customRef" onclick="showSection('customRef', this)">Custom Reference</a>
        <a href="#" data-target="abseqRef" onclick="showSection('abseqRef', this)">AbSeq Reference</a>
        <a href="index.html" style="float:right"><i class="fa fa-home"></i>HOME</a>
    </div>

    <div class="row">
        <div class="leftcolumn">
            <div id="refCheckbox" class="section active">
                <div class="checkbox-section">
                    <h2>Reference File Information</h2>
                    <h4>Please check the box applicable to your experimental assay type(s).</h4>
                    <label class="container">WTA
                        <input type="checkbox" id="assay1" name="assay1" value="wta" onclick="showCheckboxInfo('assay1', 'wtatext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">AbSeq
                        <input type="checkbox" id="assay2" name="assay2" value="abseq" onclick="showCheckboxInfo('assay2', 'abseqtext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">Targeted
                        <input type="checkbox" id="assay3" name="assay3" value="abseq" onclick="showCheckboxInfo('assay3', 'targetedtext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">Custom Design Panel
                        <input type="checkbox" id="assay4" name="assay4" value="supp" onclick="showCheckboxInfo('assay4', 'supptext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">ATAC & ATAC-Multiome
                        <input type="checkbox" id="assay5" name="assay5" value="atac" onclick="showCheckboxInfo('assay5', 'atactext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">VDJ
                        <input type="checkbox" id="assay7" name="assay7" value="vdj" onclick="showCheckboxInfo('assay7', 'vdjtext')">
                        <span class="checkmark"></span></label><br>

                    <label class="container">SMK
                        <input type="checkbox" id="assay8" name="assay8" value="smk" onclick="showCheckboxInfo('assay8', 'smktext')">
                        <span class="checkmark"></span></label><br>
                </div>
                    <div class="card" id="wtatext" style="display:none; background-color: #f1f1f1;">
                        <h3>Reference files required for WTA </h3>
                        <p>There are pre-build BD Rhapsody&trade; reference for WTA.</p>
                        <div class="notice">
                            <ul>
                                <li><b>Human (GRCh38|M42):</b>
                                <a href="https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA/Pipeline-version2.x_WTA_references/RhapRef_Human_WTA_2023-02.tar.gz"> RhapRef_Human_WTA_2023-02.tar.gz</a></li><br>
                                <li><b>Mouse (GRCm39|M31):</b>
                                <a href = "https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA/Pipeline-version2.x_WTA_references/RhapRef_Mouse_WTA_2023-02.tar.gz">RhapRef_Mouse_WTA_2023-02.tar.gz</a></li><br>
                                <li><b>Human (GRCh38|M42) + Mouse (GRCm39|M31):</b>
                                <a href = "https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA/Pipeline-version2.x_WTA_references/RhapRef_Human42Mouse31_WTA_2023-02.tar.gz">RhapRef_Human42Mouse31_WTA_2023-02.tar.gz</a></li>
                            </ul>
                        </div>
                <b>Note:</b>
                <ul>
                <li>The assembly annotation by Ensembl (GRCh38, GRCm39), by GENCODE (M42,M31)</li>
                <li>These links may not be accessible using Internet Explorer browser.</li>
                <li>The GTF file has been pre-processed to contain information for various gene types.</li>
                </ul>
                    </div>

                    <div class="card" id="abseqtext" style="display:none;background-color: #f1f1f1;">
                        <h3>Reference file required for AbSeq</h3>
                        <ul>
                            <li><b>If you are using pre-designed BD AbSeq Immune Discovery Panel:<br></b>Download <a href="https://bd-rhapsody-public.s3.amazonaws.com/AbSeq-references/BDAbSeq_ImmuneDiscoveryPanel.fasta">BDAbSeq_ImmuneDiscoveryPanel.fasta</a>.</li>
                            <br><li><b>If you are using custom AbSeq Panel or BD OMICS-One Panel:</b>
                            <ul>
                                <li>Please navigate to our <a href="https://abseq-ref-gen.genomics.bd.com/">BD AbSeq Panel Reference Generator</a> to generate your own reference.</li>
                                <li>Follow the website instructions on how to generate your own fasta reference file.</li>
                                <li>This tool will help create the FASTA file required for the 'AbSeq Reference' input in the BD Rhapsod&trade; Pipeline.</li>
                            </ul>
                            <br><li><b>Example of fasta file for AbSeq:</b>
                            <ol type="I">
                                <li>Fastq header Image <br>
                                <img src="./pictures/abseqRef_fasta.png"></li>
                                <li>Detail on the FASTA header: <p class="notice">AntibodyName:clone|GeneSymbol|SeqID|pAbO</p></li>
                                <ol type="i">
                                    <li><b>AntibodyName:clone</b>: The antibody and clone name in BD's catalog.</li>
                                    <li><b>GeneSymbol</b>: Official human or mouse gene symbol for the target specificity (if applicable).</li>
                                    <li><b>SeqID</b>: BD's barcode ID for the sequence. </li>
                                    <li><b>pAbO</b>: Protein antibody oligo. The FASTA header must end in this abbreviation, so that the sequence is recognized as an AbSeq sequence by the analysis pipeline.</li>
                                </ol>
                            </ol>
                        </li>
                        </li>
                        </ul>
                    </div>

                    <div class="card" id="targetedtext" style="display:none;background-color: #f1f1f1;">
                        <h3>Reference file required for Targeted</h3>
                        <ul>
                            <li>If you are using pre-designed panel, please click the link below to download the fasta file.</li>
                            <li>Alternatively, you can right click and copy the link address to add the file on your Velsera platform. Tutorial can be found here. </li>
                            <ol type="a">
                                <br><li><b>Human pre-designed panel:</b>
                                <ul>
                                    <li><a href = "https://scomix.bd.com/hc/article_attachments/360059289752/BD_Rhapsody_Immune_Response_Panel_Hs_FASTA.fasta">BD Rhapsody™ Immune Response Panel Hs</a></li>
                                    <li><a href = "https://scomix.bd.com/hc/article_attachments/360059289712/BD_Rhapsody_Hs_T_Cell_Expression_FASTA.fasta">BD Rhapsody™ T Cell Expression Panel Hs</a></li>
                                    <li><a href = "https://scomix.bd.com/hc/article_attachments/360059289812/BD_Rhapsody_OncoBC_FASTA.fasta">BD Rhapsody™ Onco-BC Panel Hs</a></li>
                                </ul></li>
                                <br><li><b>Mouse pre-designed panel:</b>
                                <ul>
                                    <li><a href = https://scomix.bd.com/hc/article_attachments/360059289792/BD_Rhapsody_Immune_Response_Panel_Mm_FASTA.fasta">BD Rhapsody™ Immune Response Panel Mm
                                    </a></li>
                                </ul>
                            </ol><br>
                            <h3>Gene List for each pre-designed panel:</h3>
                            <ol type="a">
                                <br><li><b>Human pre-designed panel (Gene list PDF):</b>
                                <ul>
                                    <li><a href = "https://scomix.bd.com/hc/en-us/article_attachments/13766899446029">BD Rhapsody™ Immune Response Panel Gene List</a></li>
                                    <li><a href = "https://scomix.bd.com/hc/en-us/article_attachments/13766885388685">BD Rhapsody™ T Cell Expression Panel Gene List</a></li>
                                    <li><a href = "https://scomix.bd.com/hc/en-us/article_attachments/13766899704717">BD Rhapsody™ Onco-BC Panel Gene List</a></li>
                                </ul></li>
                                <br><li><b>Mouse pre-designed panel (Gene list PDF):</b>
                                <ul>
                                    <li><a href = "https://scomix.bd.com/hc/en-us/article_attachments/13766885162509">BD Rhapsody™ Immune Response Panel Mouse Gene List
                                    </a></li>
                                </ul>
                            </ol>
                        </ul>
                    </div>

                    <div class="card" id="supptext" style="display:none;background-color: #f1f1f1;">
                        <h3>Reference file required for Targeted</h3>
                        <p>Generally, when supplemental genes are used in a Rhapsody&trade; assay, a custom panel design will be generated.<br>
                            <b>Please email us as instructed below:</b><br>
                            <ul>
                                <li>The reference file will be provided when a custom panel is designed by BD.</li>
                                <li>Please email the <a href="mailto:biox_support_EMEA@bd.com">BioInformatics Support Team</a> with your <b>Panel ID</b> to obtain your FASTA reference file.</li>
                            </ul>
                        </p>
                    </div>

                    <div class="card" id="atactext" style="display:none; background-color: #f1f1f1;">
                        <h3>Reference file required for ATAC</h3>
                        <p>Pre-build specific ATAC reference.</p>
                        <ul>
                            <li>If you are using a pre-designed panel, please click the link below to download the FASTA file.</li>
                            <li>Alternatively, if you are a Velsera platform user, right-click and copy the link address to add the file through HTTPS on your Velsera platform. A tutorial can be found here.</li>
                            <br><li>Please find the link below to download the applicable reference file.<br>
                                <ul>
                                    <li><b>Human (GRCh38|M43):</b><a href = "https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA-ATAC/Pipeline-version2.x_WTA_ATAC_references/RhapRef_Human_WTA-ATAC_2023-08.tar.gz">RhapRef_Human_WTA-ATAC_2023-08.tar.gz</a></li>
                                    <li><b>Mouse (GRCm39|M31):</b><a href = "https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA-ATAC/Pipeline-version2.x_WTA_ATAC_references/RhapRef_Mouse_WTA-ATAC_2023-09.tar.gz">RhapRef_Mouse_WTA-ATAC_2023-09.tar.gz</a></li>
                                    <li><b>Human (GRCh38|M43) + Mouse (GRCm39|M31):</b><a href = "https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA-ATAC/Pipeline-version2.x_WTA_ATAC_references/RhapRef_Human-Mouse_WTA-ATAC_2023-11.tar.gz">RhapRef_Human-Mouse_WTA-ATAC_2023-11.tar.gz</a></li>
                                </ul>
                            </li>
                            <br><li><b>Note:</b>
                                <ul>
                                    <li>The assembly annotation by Ensembl (GRCh38, GRCm39), by GENCODE (M42,M31)</li>
                                    <li>These links may not be accessible using Internet Explorer browser.</li>
                                    <li>The GTF file has been pre-processed to contain information for various gene types.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="card" id="vdjtext" style="display:none; background-color: #f1f1f1;">
                        <h3>You don't need reference file for VDJ</h3>
                Please make sure to activate VDJ option in the pipeline settings.
                    </div>

                    <div class="card" id="smktext" style="display:none; background-color: #f1f1f1;">
                        <h3>You don't need reference file for SMK</h3>
                        <p>Please make sure to activate SMK option in the pipeline settings<br>
                            <ul>
                                <li>The human and mouse sample kits provide up to 12 species-specific sample tags.</li>
                                <li>The Flex sample kit provides up to 24 species and cell type agnostic sample tags.</li>
                                <li>The pipeline automatically adds the Sample Tag sequences to the FASTA reference file.</li>
                            </ul>
                        </p>
                    </div>
            </div>

            <div id="customRef" class="section">
                <h2>Custom Reference</h2>
                <p>Custom Reference is a feature that allows you to upload your own reference files to the BD Rhapsody&trade; Pipeline. This feature is useful when you have a custom panel design that is not available in the pre-built references provided by BD. </p>
                <p><b>Reference files from public database</b>
                <ul>
                    <li>NCBI</li>
                    <li><a href="https://www.ensembl.org/index.html">Ensembl</a>
                        <ol>
                            <p>To generate custom reference files compatible with BD Rhapsody Pipeline, you can download the necessary files from Ensembl.<br>
                            <img src="./pictures/ensemble.png">
                        </p> 
                            <p>Follow the steps below to retrieve files to generate custom genome:</p>
                            <li>Navigate to <b>"Download FASTA"</b> and download Primary Assembly or an equivalent of Top-level assembly. </li>
                            <li>Navigate to <b>"Download GTF"</b> to download the gtf file. </li>
                        </ol>
                    </li>
                </ul></p>
            </div>

            <div id="abseqRef" class="section">
                <h2>AbSeq Reference</h2>
                <p>AbSeq Reference is a feature that allows you to upload your own reference files to the BD Rhapsody&trade; Pipeline. This feature is useful when you have a custom AbSeq panel design that is not available in the pre-built references provided by BD.</p>
                <p>For more information on how to upload your custom AbSeq reference, please refer to the <a href="https://bd-rhapsody-public.s3.amazonaws.com/Rhapsody-WTA/Pipeline-version2.x_WTA_references/BD_Rhapsody_Pipeline_AbSeq_Reference_Guide.pdf">BD Rhapsody Pipeline AbSeq Reference Guide</a>.</p>  
            </div>
        </div>

        <div class="rightcolumn">
            <div id="customRef" class="section ">
                <p>this is the right side of the custom reference</p>
            </div>
            <div id="abseqRef" class="section ">
                <p>this is the right side of the abseq reference</p>
            </div>
        </div>
    </div>

    <script>
        function showSection(sectionId, element) {
    // Hide all sections
    var leftSections = document.querySelectorAll('.leftcolumn .section');
    leftSections.forEach(function(section) {
        section.classList.remove('active');
    });
    var rightSections = document.querySelectorAll('.rightcolumn .section');
    rightSections.forEach(function(section) {
        section.classList.remove('active');
    });


    // Show the selected section
    var activeLeftSection = document.querySelector('.leftcolumn #' +  sectionId);
    if (activeLeftSection){
        activeLeftSection.classList.add('active');
    }
    var activeRightSection = document.querySelector('.rightcolumn #' +  sectionId);
    if (activeRightSection){
        activeRightSection.classList.add('active');
    }

    // Update tab styles
    var tabs = document.querySelectorAll('.topnav a');
    tabs.forEach(function(tab) {
        tab.classList.remove('active-tab');
    });

    element.classList.add('active-tab');
}

// Display the first section on page load
document.addEventListener('DOMContentLoaded', function() {
    // Show the first section by default
    showSection('refCheckbox', document.querySelector('.topnav a'));
});

function showCheckboxInfo(checkboxID, textID) {
    var checkBox = document.getElementById(checkboxID);
    var text = document.getElementById(textID);
    if (checkBox.checked == true){
        text.style.display = "block";
    } else {
        text.style.display = "none";
    }
}
</script>


</body>