<nav class="breadcrumb">
    <button onclick="window.location.href='index.html'"><i class="fa fa-fw fa-home"></i> Home</button>
    <span>&rsaquo;</span>
    <button onclick="loadStep('step2')"> Files Upload</button>
    <span>&rsaquo;</span>
    <button onclick="loadSection('step2_CLI_(Windows)')" style="color:darkgrey">Command Line Interface Upload Windows OS</button>
</nav>
<div id="topPage"></div>
<div class="fab-container">
    <div class="button iconbutton" onclick="loadStep('feedback')">
        <span>Share your feedback</span>
    </div>
</div>

<h2>Command Line Interface Upload (Windows)</h2>
            <div class="notice">
                There are TWO main steps to setup your file upload through Command Line Interface (CLI). 
                <ul>
                    <li>Generate API endpoint and Authentication Token on Velsera.</li>
                    <li>Configure CLI using Windows/LINUX/Mac</li>
                </ul>
            </div>
            
            <div class="card" style="background-color: #f1f1f1;">
                <h3>Generate API endpoint and Authentication Token on Velsera</h3>
                Below are the steps to generate API Endpoint and Authentication Token: <br>
                <ol>
                    <li>Log in to your Seven Bridges account. Click <mark>Developer</mark> -> <mark>Authentication token</mark> -> <mark>Generate token</mark>.</li><br>
                    <img class="steps-img" src="assets/images/autehnticationstep1.png"><br><br>
                    <li>You will find the TOken and API on the next page.Ensure to keep your Authentication Token secure and do not share it publicly.</li>
                    <li>You may now use these credentials while setting up your upload process to authenticate and interact with Seven Bridges through the API.</li>
                    <li>Picture below showing the API and Authentication Token:</li>
                    <br><img class="steps-img" src="assets/images/authenticationTokenStep2.png"><br>
                </ol>
            </div>

            <div class="card">
                <h3>Download and Configure CLI to your device</h3>
                <ol>
                    <li>To download the SB command line interface, click the link below based on your system:
                        <ul>
                            <li><a href="https://igor.sbgenomics.com/downloads/sb/windows-386/sb.exe">32-bit Windows (sha1sum)</a></li>
                            <li><a href="https://igor.sbgenomics.com/downloads/sb/windows-amd64/sb.exe">64-bit Windows (sha1sum)</a></li>
                        </ul>
                    <li>Once the command line interface downloaded, move the .exe file to the directory where you keep all the files to be uploaded.</li>
                    <li>Open Command Prompt or other command-line shell programs.</li>
                    <li>Navigate to your working folder in the command prompt.If unsure, please click the link <a href="https://www.howtogeek.com/674537/how-to-find-and-open-files-using-command-prompt/">here</a> on how to find files using command prompt.</li>
                    <li>Enter command below to confirm the ".exe" and your files are in the correct folder. You should find the ".exe" file and the rest of the files you intend to upload listed on your console.<br>
                    <p class="code">DIR</p>
                <img class="steps-img" src="assets/images/DIR_files.png"></li>
                <p><b>Configure CLI</b></p>
                <li>Use command below to configure CLI:
                    <p class="code">sb configure</p>
                </li>
                <li>The prompt will ask for the API endpoint and authentication token. Enter accordingly. You only need to configure it once.</li>
                </ol>
            </div>

            <div class="card" style="background-color: #f1f1f1;">
                <h3>File Integrity Checks</h3>
                <p>It is recommended to check your file integrity before upload to Velsera platform. Files that are corrupted, as an example FASTQ files would caused the pipeline failure.</p>
                    <ol>
                        <li>Navigate to the folder contain your project files using command line or terminal.</li>
                        <li>Enter command below to confirm the files to upload is in the folder. <p class="code">DIR</p></li>
                        <li>To check file integrity, enter the command below in your console: <p class="code">gunzip --test --verbose filename.fastq.gz</p>
                        <p>Please make sure to change the <mark>filename.fastq.gz</mark> to your own file name.</p></li>
                        <li>To test more files, add a space between fastq files. Example code below: 
                            <p class="code">gunzip --test --verbose filename1.fastq.gz filename2.fastq.gz filename3.fastq.gz</p>
                        </li>
                        <li>Once completed, the output for intact files would be "OK". If the file is corrupted, especially CRC error, please re-download the file from source and test again. </li>
                        <div class="video-container" >
                            <video style="width: 500px;" controls poster = "assets/videos/FIleIntegrityCheck.png">
                            <source src="assets/videos/integrityChecks.mov" type="video/mp4"></video></div>
            </ol>
            </div>

           <div class="card" >
                <h3>Upload Files</h3>
                <p>It is recommended to check your file integrity before upload to Velsera platform. Files that are corrupted, as an example FASTQ files would caused the pipeline failure. Navigate to the folder using command line or teminal.</p>
                <ol>
                    <li>To upload the files, enter command below:
                        <p class="code">sb upload start path_to_file_to_upload --destination</p></li>
                        <p>The <mark>--destination</mark> input string can be found on the link of your project on Seven Bridges. <br> Example:<mark>https://igor.sbgenomics.com/u/biox_support_emea/demo-project</mark>. Please use <mark>biox_support_emea/demo-project</mark> as the input for --destination flag on the command line.</p>
                        
                        <li>To find out more information about this tool, please copy and paste the link below to your browser.<br>
                        <p class="code">https://docs.sevenbridges.com/docs/upload-via-the-command-line </p></li>
                        <li>If you need to resume the upload, It is possible with the following command.<br><p class="code">sb upload resume your_file_to_upload</p></li>
                </ol>
            </div>

            <div class="card">
                <h3>CLI Configuration and File Upload</h3>
                <div class="video-container" >
                    <video style="width: 500px;" controls poster = "assets/videos/sbConfigure_FileUpload.png">
                    <source src="assets/videos/sbConfigure_FileUpload.mov" type="video/mp4"></video></div>
            </div>

            <div class="scroll-top">
                <button><a href="#topPage">Scroll to top page</a></button>
            </div>