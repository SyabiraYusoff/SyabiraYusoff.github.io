<nav class="breadcrumb">
    <button onclick="window.location.href='index.html'"><i class="fa fa-fw fa-home"></i> Home</button>
    <span>&rsaquo;</span>
    <button onclick="loadStep('step2')"> Files Upload</button>
    <span>&rsaquo;</span>
    <button onclick="loadSection('step2_Cloud_Based_Upload')" style="color:darkgrey">Velsera Interface Files Upload</button>
</nav>
<div id="topPage"></div>
<div class="fab-container">
    <div class="button iconbutton" onclick="loadStep('feedback')">
        <span>Share your feedback</span>
    </div>
</div>

<h2>How to Upload your files on Velsera</h2>
<h3>Click below to jump straight to the section:</h3>
<ul>
    <li><b><a href="#computer">File upload from your computer:</a></b> Suitable for small size files, less than 5GB.</li>
    <li><b><a href="#otherProject">File upload from another project:</a></b>Copy files from your previous project on Velsera.</li>
    <li><b><a href="#http">Upload from a https/FTP link:</a></b> If you have files from a link or FTP.</li>
    <li><b><a href="#integrityChecks">Check your file integrity:</a></b> Important checks before run your pipeline.</li>
</ul><hr>



<h3 id="computer">File Upload from Computer </h3>
<div class="notice">
    <ul>
        <li>Note that this method is suitable for small datasets.</li>
        <li>For larger uploads such as FASTQ files, consider using command line uploads or FTP.</li>
        <li>Seven Bridges will log you out if there is no activity within 15 minutes. To prevent disruption of the upload progress, actively monitor and move your cursor during the process.</li>
        <li>Failure to do so may necessitate re-uploading the files.</li>
    </ul>
</div>

<ol>
    <li>On the project dashboard, click the <mark>Files.</mark> tab, and click <mark>+Add Files</mark><br>
        <img class="steps-img" src="./assets/images/step1_uploadFilefromCOmp.png">
        </li>
    <li>Click on Add files and choose the source:<mark>Your Computer</mark><br>
        <img class="steps-img" src="./assets/images/step2_uploadFilefromCOmp.png"></li>
    <li>Select files that you intend to upload. You may select multiple files to upload.<br>
        <img class="steps-img" src="./assets/images/step3_uploadFilefromCOmp.png">
    </li>
    <li>Click <mark>Upload</mark> button.<br>
        <img class="steps-img" src="./assets/images/step4_uploadFilefromCOmp.png"></li>
    <li>Monitor the upload progress. The upload speed depends on your internet connection and file size. Hover your mouse every 10 minutes to ensure you are not logged out from the webpage.<br>
        <img class="steps-img" src="./assets/images/step5_uploadFilefromCOmp.png">
    </li>
    <li>Once the upload is complete, the files will appear in the Files tab.<br>
        <img class="steps-img" src="./assets/images/step6_uploadFilefromCOmp.png">
        </li>
    </li>
</ol>
</div>

<div class="card copy-from-other-project"  style="background-color: #f1f1f1;">
<h3 id="otherProject" >File Upload from Other Project created on Velsera</h3>
<div class="notice">Note:<br>
    <ul>
        <li>This method of file transfer is beneficial when you have same files such as refence files that you might want to re-use from other projects. </li>
        <li>If you have any BD Rhapsody&trade; pipeline that has been tailored specific to your project, you may copy the app to your current project using similar approach availabe in App tab. </li>
    </ul>
</div>
<ol>
<li>From the main Project Dashboard, click <mark>Files</mark> tab to navigate to Files section on your project.</li>
<li>On the top right of the webpage, click <mark>Add files</mark> and select <mark>Projects</mark>. A new section would appear on the left side of the webpage. </li>
<li>Use the <mark>Search bar</mark> or <mark>select the project</mark> you want to copy the file/s listed in the appeared section.</li>
<li>Once selected, use the tickboxes to select files that you intend to copy and click <mark>Copy To Project</mark> button then select <mark>Copy</mark>. A pop-up message would appear confirming the files are now copied to your current project. </li>
<li>Refresh the Files tab on your current project and make sure the file copied successfully.</li>
</ol>
<div class="video-container" >
<video style="width: 500px;" controls poster = "./assets/videos/SB_addFilesFromOtherProject_cover.png">
<source src="./assets/videos/SB_importFIlesFromProject_edited.mov" type="video/mp4"></video>
</div>
</div>

<div class="card">
<h3 id="http">File Upload through ftp or https</h3>

<div class="notice">
Note:<br> <ul>
    <li>This option is suitable when you have files from AWS or any other resource that is acessible through an ftp of https link. As an example, a reference files that is available publicly on a cloud platform.</li>
    <li>Make sure that you have a stable internet connection to avaoid any disconnection and file corruption. </li>
</ul>
</div>
<ol>
<li>From the main Project Dashboard, click <mark>Files</mark> tab to navigate to Files section on your project.</li>
<li>On the top right of the webpage, click <mark>Add files</mark> and select <mark>FTP/HTTP</mark>.</li>
<li> Paste the link of the file you want to transfer and click <mark>Import</mark>.</li>
</ol>
</div>

<div class="card" style="background-color: #f1f1f1;">
<h3 id="integrityChecks">File Integrity Checks</h3>
<p>It is recommended to check your file integrity before setting up your analysis on the Velsera platform. Files that are corrupted, such as FASTQ files, could cause the pipeline to fail. File corruption might occur at any stage of data transfer; internet connection and storage methods are possible causes of file corruption.</p>
<ol>
    <li>To run on files on Seven Bridges, you will need to create a Data Studio Analysis. Navigate to the <mark>Data Studio</mark> tab and click <mark>Create new analysis</mark> as shown below.<br>
    <img class="steps-img" src="./assets/images/integrityCheck_velsera_step1.png"></li>
    <li>Create a name <mark>Analysis name</mark> and select <mark>RStudio</mark> then  <mark>Start</mark> the analysis.<br>
    <img class="steps-img" src="./assets/images/integrityCheck_velsera_step2.png"></li>
    <li>A new window will be iniCalized. This might take a few minutes. <br>
    <img class="steps-img" src="./assets/images/integrityCheck_velsera_step3.png"></li>
    <li>RStudio terminal will start. Navigate to the terminal tab. <br>
    <img class="steps-img" src="./assets/images/integrityCheck_velsera_step4.png"></li>
    <li>Type to change the directory to your project files on Seven Bridges:
        <p class="code">cd /sbgenomics/project-files</p>
    </li>
    <li>To run integrity checks on files:
        <p class="code">gunzip --test --verbose filename.fastq.gz</p>
        <p>Please make sure to change the <mark>filename.fastq.gz</mark> to your own file name.</p>
    </li>
    <li>To test more files, add a space between fastq files. Example code below: 
        <p class="code">gunzip --test --verbose filename1.fastq.gz filename2.fastq.gz filename3.fastq.gz</p>
    </li>
    <li>To run md5sum checks on all file, type:
        <p class="code">md5sum *</p>
        <p>You can now compare the md5sum code for each individual files against the original code provided by your sequencing company.</p>
    </li>
    <li>If the file is corrupted, please reupload your fastq files. </li>
</ol>
</div>

<div class="scroll-top">
    <button><a href="#topPage">Scroll to top page</a></button>
</div>
